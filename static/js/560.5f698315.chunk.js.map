{"version":3,"file":"static/js/560.5f698315.chunk.js","mappings":"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","sources":["components/HOC/AuthRedirect.js","components/Profile/MyPosts/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/ProfileInfo/ProfileStatus.jsx","components/Profile/MyPosts/ProfileInfo/ProfileStatusWithHook.jsx","components/Profile/MyPosts/ProfileInfo/ProfileInfo.jsx","webpack://reactlearning1/./src/components/Profile/MyPosts/MyPosts.module.css?831b","webpack://reactlearning1/./src/components/Profile/MyPosts/Posts/Posts.module.css?b7f9","components/Profile/MyPosts/Posts/Posts.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsConteiner.jsx","components/Profile/Profile.jsx","components/Profile/ProfileConteiner.jsx"],"sourcesContent":["import React from 'react'\r\nimport { Navigate } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nlet mapStateToPropsForRedirect = State => ({\r\n\tisAuth: State.auth.isAuth,\r\n})\r\nexport const withAuthRedirect = Component => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif (!this.props.isAuth) return <Navigate to='/login' />\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\tlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(\r\n\t\tRedirectComponent\r\n\t)\r\n\treturn ConnectedAuthRedirectComponent\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2qJPS\"};","import React from 'react'\r\nimport c from './ProfileInfo.module.css'\r\nclass ProfileStatus extends React.Component {\r\n\tstate = {\r\n\t\teditMode: false,\r\n\t\tstatus: this.props.status,\r\n\t}\r\n\tactivateEditMode = () => {\r\n\t\tthis.setState({ editMode: true })\r\n\t}\r\n\tdeactivateEditMode = () => {\r\n\t\tthis.setState({ editMode: false })\r\n\t\tthis.props.updateStatus(this.state.status)\r\n\t}\r\n\tonStatusChange = event => {\r\n\t\tthis.setState({ status: event.currentTarget.value })\r\n\t}\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevProps.status !== this.props.status) {\r\n\t\t\tthis.setState({ status: this.props.status })\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{!this.state.editMode && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<span onDoubleClick={this.activateEditMode}>\r\n\t\t\t\t\t\t\t{this.props.status || '---'}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.state.editMode && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tonChange={this.onStatusChange}\r\n\t\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t\t\tonBlur={this.deactivateEditMode}\r\n\t\t\t\t\t\t\tvalue={this.state.status}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nexport default ProfileStatus\r\n","import React, { useEffect, useState } from 'react'\r\nimport c from './ProfileInfo.module.css'\r\nconst ProfileStatusWithHook = props => {\r\n\tlet [editMode, setEditmode] = useState(false)\r\n\tconst activateEditMode = () => {\r\n\t\tsetEditmode(true)\r\n\t}\r\n\tlet [status, setStatus] = useState(props.status)\r\n\tconst deactivateEditMode = () => {\r\n\t\tsetEditmode(false)\r\n\t\tprops.updateStatus(status)\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tsetStatus(props.status)\r\n\t}, [props.status])\r\n\tconst onStatusChange = event => {\r\n\t\tsetStatus(event.currentTarget.value)\r\n\t}\r\n\t/* componentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevProps.status !== this.props.status) {\r\n\t\t\tthis.setState({ status: this.props.status })\r\n\t\t}\r\n\t} */\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{!editMode && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span onDoubleClick={activateEditMode}>{props.status || '---'}</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{editMode && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tonChange={onStatusChange}\r\n\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t\tonBlur={deactivateEditMode}\r\n\t\t\t\t\t\tvalue={status}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default ProfileStatusWithHook\r\n","import React from 'react'\r\nimport Preloader from '../../../common/preloader/preloader'\r\nimport c from './ProfileInfo.module.css'\r\nimport ProfileStatus from './ProfileStatus'\r\nimport ProfileStatusWithHook from './ProfileStatusWithHook'\r\nconst ProfileInfo = props => {\r\n\tif (!props.profile) {\r\n\t\treturn <Preloader />\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div>\r\n\t\t\t\t<img src='https://images.unsplash.com/photo-1629662182419-960a8596bba0?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwcm9maWxlLXBhZ2V8Mnx8fGVufDB8fHx8&w=1000&q=80'></img>\r\n\t\t\t</div>\r\n\t\t\t<div className={c.descriptionBlock}>\r\n\t\t\t\t<img src={props.profile.photos.large} />\r\n\t\t\t\tava+description\r\n\t\t\t\t<ProfileStatusWithHook\r\n\t\t\t\t\tstatus={props.status}\r\n\t\t\t\t\tupdateStatus={props.updateStatus}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default ProfileInfo\r\n","// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__xPwb5\",\"posts\":\"MyPosts_posts__9E-kw\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Posts_item__bhrYq\"};","import React from 'react'\r\nimport c from './Posts.module.css'\r\nconst Posts = props => {\r\n\treturn (\r\n\t\t<div className={c.item}>\r\n\t\t\t<img src='https://cspromogame.ru//storage/upload_images/avatars/1299.jpg'></img>\r\n\t\t\t{props.message}\r\n\t\t\t<div>\r\n\t\t\t\t<span>like {props.count}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Posts\r\n","import React from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport {\r\n\tmaxLengthCreator,\r\n\trequiredField,\r\n} from '../../../utils/validators/validators'\r\nimport { Textarea } from '../../common/FormsControls/FormsControls'\r\nimport c from './MyPosts.module.css'\r\nimport Posts from './Posts/Posts'\r\nconst MyPosts = props => {\r\n\tlet postsElement = props.postsData.map(posts => (\r\n\t\t<Posts message={posts.message} count={posts.liKesCount} />\r\n\t))\r\n\tlet addPost = values => {\r\n\t\tprops.addPost(values.newPostText)\r\n\t}\r\n\treturn (\r\n\t\t<div className={c.postsBlock}>\r\n\t\t\t<h3>My post</h3>\r\n\t\t\t<AddNewPostFormRedux onSubmit={addPost} />\r\n\t\t\t<div className={c.posts}>{postsElement}</div>\r\n\t\t</div>\r\n\t)\r\n}\r\nconst AddNewPostForm = props => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field\r\n\t\t\t\t\tname='newPostText'\r\n\t\t\t\t\tcomponent={Textarea}\r\n\t\t\t\t\tvalidate={[requiredField, maxLengthCreator(10)]}\r\n\t\t\t\t\tplaceholder='post message'\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button>add post</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\nconst AddNewPostFormRedux = reduxForm({ form: 'profileAddNewPostForm' })(\r\n\tAddNewPostForm\r\n)\r\nexport default MyPosts\r\n","import React from 'react'\r\nimport { addPostActionCreator } from '../../../Redux/profile-reducer'\r\nimport MyPosts from './MyPosts'\r\nimport { connect } from 'react-redux'\r\nlet mapStateToProps = State => {\r\n\treturn {\r\n\t\tpostsData: State.profilePage.postsData,\r\n\t\tnewPostText: State.profilePage.newPostText,\r\n\t}\r\n}\r\nlet mapsDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\taddPost: newPostText => {\r\n\t\t\tdispatch(addPostActionCreator(newPostText))\r\n\t\t},\r\n\t}\r\n}\r\nconst MyPostsConteiner = connect(mapStateToProps, mapsDispatchToProps)(MyPosts)\r\nexport default MyPostsConteiner\r\n","import React from 'react'\r\nimport c from './Profile.module.css'\r\nimport ProfileInfo from './MyPosts/ProfileInfo/ProfileInfo'\r\nimport MyPostsConteiner from './MyPosts/MyPostsConteiner'\r\n\r\nconst Profile = props => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<ProfileInfo\r\n\t\t\t\tprofile={props.profile}\r\n\t\t\t\tstatus={props.status}\r\n\t\t\t\tupdateStatus={props.updateStatus}\r\n\t\t\t/>\r\n\t\t\t<MyPostsConteiner />\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Profile\r\n","import React from 'react'\r\nimport Profile from './Profile'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n\tgetUsersProfile,\r\n\tgetStatus,\r\n\tupdateStatus,\r\n} from '../../Redux/profile-reducer'\r\nimport { useParams, useLocation, useNavigate } from 'react-router-dom'\r\nimport { withAuthRedirect } from '../HOC/AuthRedirect'\r\nimport { compose } from 'redux'\r\nclass ProfileConteiner extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tlet userId = this.props.router.params.userId\r\n\t\tif (!userId) {\r\n\t\t\tuserId = this.props.AuthorizedUserId\r\n\t\t\tif (!userId) {\r\n\t\t\t\tthis.props.history.push('/login')\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.props.getUsersProfile(userId)\r\n\t\tthis.props.getStatus(userId)\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Profile\r\n\t\t\t\t{...this.props}\r\n\t\t\t\tprofile={this.props.profile}\r\n\t\t\t\tstatus={this.props.status}\r\n\t\t\t\tupdateStatus={this.props.updateStatus}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\nlet mapStateToProps = State => ({\r\n\tprofile: State.profilePage.profile,\r\n\tstatus: State.profilePage.status,\r\n\tAuthorizedUserId: State.auth.userid,\r\n\tisAuth: State.auth.isAuth,\r\n})\r\nfunction withRouter(Component) {\r\n\tfunction ComponentWithRouterProp(props) {\r\n\t\tlet location = useLocation()\r\n\t\tlet navigate = useNavigate()\r\n\t\tlet params = useParams()\r\n\t\treturn <Component {...props} router={{ location, navigate, params }} />\r\n\t}\r\n\r\n\treturn ComponentWithRouterProp\r\n}\r\nexport default compose(\r\n\tconnect(mapStateToProps, {\r\n\t\tgetUsersProfile,\r\n\t\tgetStatus,\r\n\t\tupdateStatus,\r\n\t}),\r\n\twithRouter,\r\n\twithAuthRedirect\r\n)(ProfileConteiner)\r\n"],"names":["mapStateToPropsForRedirect","State","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","useState","editMode","setEditmode","status","setStatus","useEffect","onDoubleClick","onChange","event","currentTarget","value","autoFocus","onBlur","updateStatus","profile","src","className","c","photos","large","message","count","AddNewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","name","component","Textarea","validate","requiredField","maxLengthCreator","placeholder","postsElement","postsData","map","posts","liKesCount","values","addPost","newPostText","profilePage","dispatch","addPostActionCreator","MyPosts","ProfileConteiner","userId","router","params","AuthorizedUserId","history","push","getUsersProfile","getStatus","compose","userid","location","useLocation","navigate","useNavigate","useParams"],"sourceRoot":""}